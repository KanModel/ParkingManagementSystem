<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title th:text="${'首页 - ' + site_name}"></title>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/3.3.7/css/bootstrap.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
<div th:replace="fragments/header :: header"></div>
<div class="container">
    <div id="main" style="width: 600px;height:400px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        var myData= [];

        $.ajax({
            type:"GET",
            url:"/scatter",
            dataType:"json",
            async:false,
            success:function (result) {
                console.log(result);
                for (var i = 0; i < result.length; i++){
                    myData.push([result[i].x, result[i].y]);
                }
                console.log(myData);
            },
            error :function(errorMsg) {
                alert("获取后台数据失败！");
            }
        });

        // 指定图表的配置项和数据
        var option = {
            xAxis: {show: false},
            yAxis: {show: false},
            series: [{
                symbolSize: 20,
                // data: [
                //     [10.0, 8.04],
                //     [8.0, 6.95],
                //     [13.0, 7.58],
                //     [9.0, 8.81],
                //     [11.0, 8.33],
                //     [14.0, 9.96],
                //     [6.0, 7.24],
                //     [4.0, 4.26],
                //     [12.0, 10.84],
                //     [7.0, 4.82],
                //     [5.0, 5.68]
                // ],
                data: myData,
                type: 'scatter',
                symbol: 'rect'
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</div>
</body>
<div th:replace="fragments/footer :: footer"></div>
</html>